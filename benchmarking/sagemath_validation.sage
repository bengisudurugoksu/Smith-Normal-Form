# === SAGEMATH SNF VALIDATION ===
# ================================

print("="*70)
print("SAGEMATH SMITH NORMAL FORM - VALIDATION RESULTS")
print("="*70)

test_matrices = [
    ("3×3 Classic", [[2, 4, 4], [-6, 6, 12], [10, 4, 16]]),
    ("4×4 Square", [[6, 8, 14, 10], [4, 10, 4, 2], [2, 6, 12, 8], [8, 12, 6, 4]]),
    ("5×5 Prime", [[2, 3, 5, 7, 11], [3, 5, 7, 11, 13], [5, 7, 11, 13, 17], [7, 11, 13, 17, 19], [11, 13, 17, 19, 23]]),
    ("6×6 Fixed", [[3, -7, 2, 5, -1, 8], [-4, 6, -9, 1, 7, -2], [5, -3, 8, -6, 2, 4], [-1, 9, -4, 7, -5, 3], [6, -2, 5, -8, 4, 1], [-7, 4, -1, 9, -3, 6]]),
    ("7×7 Fixed", [[2, -5, 3, 7, -1, 4, -6], [-3, 8, -2, 5, 6, -7, 1], [4, -1, 9, -3, 2, 5, -8], [-6, 7, -4, 1, 8, -2, 3], [5, -9, 2, -6, 3, 7, -4], [-1, 4, -8, 2, -5, 9, 6], [7, -3, 6, -1, 4, -8, 2]]),
    ("8×8 Fixed", [[1, -3, 5, -7, 2, 4, -6, 8], [-2, 4, -6, 8, -1, 3, 5, -7], [3, -5, 7, -1, 4, -6, 8, 2], [-4, 6, -8, 2, -3, 5, 7, -1], [5, -7, 1, -3, 6, -8, 2, 4], [-6, 8, -2, 4, -5, 7, 1, -3], [7, -1, 3, -5, 8, -2, 4, 6], [-8, 2, -4, 6, -7, 1, 3, -5]])
]

import time

print("\n┌────────────────┬──────┬────────────────────────────┬──────────┐")
print("│ Matrix         │ Size │ Elementary Divisors        │   Time   │")
print("├────────────────┼──────┼────────────────────────────┼──────────┤")

for name, mat_data in test_matrices:
    start = time.time()
    M = matrix(ZZ, mat_data)
    eds = M.elementary_divisors()
    elapsed = time.time() - start
    
    m, n = M.nrows(), M.ncols()
    time_str = f"{elapsed*1000:.1f}ms" if elapsed < 1 else f"{elapsed:.3f}s"
    eds_str = str(list(eds))
    
    print(f"│ {name:14} │ {m}×{n}  │ {eds_str:26} │ {time_str:8} │")

print("└────────────────┴──────┴────────────────────────────┴──────────┘")

print("\n" + "="*70)
print("VALIDATION COMPLETED!")
print("="*70)
